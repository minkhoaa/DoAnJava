app = "doanjava"  # 🔁 Tên app của bạn (chỉnh nếu khác)

primary_region = "sin"  # 👉 Vùng deploy chính: Singapore (bạn có thể đổi thành 'hkg', 'lax', v.v.)

[build]
# ✅ Dùng Buildpacks để build app Java (không cần Dockerfile)
# Hoặc nếu bạn dùng Dockerfile:
dockerfile = "Dockerfile"

[env]
PORT = "8080"  # Spring Boot mặc định chạy ở port này

[http_service]
internal_port = 8080
force_https = true
auto_stop_machines = true
auto_start_machines = true
min_machines_running = 0
processes = ["app"]

[[vm]]
size = "shared-cpu-1x"   # Gói máy ảo rẻ nhất (có thể đổi thành 'performance-1x')
memory = 512             # Spring Boot thường cần ít nhất 512MB RAM

